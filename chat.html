<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kynecta - Advanced Mood-Based Chat</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-messaging-compat.js"></script>
    
    <!-- Add this in head section after tailwind CDN -->
    <meta name="ignore-tailwind-cdn-warning" content="true">
    <script>
        // Suppress Tailwind CDN warning
        window.tailwindConfig = { ignoreCDNWarning: true };
    </script>
    <link rel="stylesheet" href="./chat.css">
    
</head>
<body class="h-full overflow-hidden" data-theme="light">
    <!-- Toast Notifications -->
    <div id="toastContainer" class="fixed top-4 right-4 z-50 space-y-2"></div>

    <!-- Loading Screen -->
    <div id="loadingScreen" class="fixed inset-0 bg-white z-50 flex items-center justify-center">
        <div class="text-center">
            <div class="w-16 h-16 bg-gradient-to-r from-purple-500 to-green-500 rounded-2xl flex items-center justify-center mx-auto mb-4 animate-pulse">
                <span class="text-white text-2xl">ðŸ§ </span>
            </div>
            <h2 class="text-xl font-semibold text-gray-700 mb-2">Kynecta</h2>
            <p class="text-gray-500">Initializing mood-aware chat...</p>
        </div>
    </div>

    <!-- Main Chat App -->
    <div id="chatApp" class="hidden h-full">
        <!-- Bottom Navigation Tabs -->
        <div class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 flex justify-around py-3 z-30 md:hidden shadow-lg">
            <button class="tab-btn flex flex-col items-center text-purple-600 tab-active" data-tab="chats">
                <i class="fas fa-comments text-xl"></i>
                <span class="text-xs mt-1">Chats</span>
            </button>
            <button class="tab-btn flex flex-col items-center text-gray-500" data-tab="friends">
                <i class="fas fa-user-friends text-xl"></i>
                <span class="text-xs mt-1">Friends</span>
            </button>
            <button class="tab-btn flex flex-col items-center text-gray-500" data-tab="updates">
                <i class="fas fa-bell text-xl"></i>
                <span class="text-xs mt-1">Updates</span>
            </button>
            <button class="tab-btn flex flex-col items-center text-gray-500" data-tab="calls">
                <i class="fas fa-phone text-xl"></i>
                <span class="text-xs mt-1">Calls</span>
            </button>
            <button class="tab-btn flex flex-col items-center text-gray-500" data-tab="tools">
                <i class="fas fa-tools text-xl"></i>
                <span class="text-xs mt-1">Tools</span>
            </button>
        </div>

        <div class="flex h-full pb-16 md:pb-0">
            <!-- Sidebar/Friend List -->
            <div id="chatListContainer" class="chat-list-container w-full md:w-1/3 lg:w-1/4 bg-white flex flex-col border-r border-gray-200">
                <!-- User Profile Header -->
                <div class="kynecta-header p-4 flex justify-between items-center">
                    <div class="flex items-center">
                        <img id="userAvatar" class="w-12 h-12 rounded-2xl bg-white/20 flex items-center justify-center text-white font-semibold mr-3 object-cover border-2 border-white/30" src="" alt="Profile">
                        <div>
                            <span id="userName" class="font-semibold text-white block">Loading...</span>
                            <span id="userMood" class="text-white/80 text-sm">ðŸŸ¢ Online</span>
                        </div>
                    </div>
                    <div class="flex space-x-3 text-white">
                        <i class="fas fa-users text-xl cursor-pointer hover:scale-110 transition-transform" id="newGroupBtn"></i>
                        <i class="fas fa-cog text-xl cursor-pointer hover:scale-110 transition-transform" id="menuBtn"></i>
                        <button id="themeToggle" class="text-xl cursor-pointer hover:scale-110 transition-transform">
                            <i class="fas fa-moon" id="themeIcon"></i>
                        </button>
                    </div>
                </div>

                <!-- Tabs for Desktop -->
                <div class="hidden md:flex bg-white border-b border-gray-200">
                    <button class="tab-btn flex-1 py-4 text-center text-purple-600 tab-active font-semibold" data-tab="chats">
                        <i class="fas fa-comments mr-2"></i>Chats
                    </button>
                    <button class="tab-btn flex-1 py-4 text-center text-gray-500 font-semibold" data-tab="friends">
                        <i class="fas fa-user-friends mr-2"></i>Friends
                    </button>
                    <button class="tab-btn flex-1 py-4 text-center text-gray-500 font-semibold" data-tab="updates">
                        <i class="fas fa-bell mr-2"></i>Updates
                    </button>
                    <button class="tab-btn flex-1 py-4 text-center text-gray-500 font-semibold" data-tab="calls">
                        <i class="fas fa-phone mr-2"></i>Calls
                    </button>
                    <button class="tab-btn flex-1 py-4 text-center text-gray-500 font-semibold" data-tab="tools">
                        <i class="fas fa-tools mr-2"></i>Tools
                    </button>
                </div>

                <!-- Search -->
                <div class="bg-white p-3">
                    <div class="relative">
                        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                            <i class="fas fa-search text-gray-400"></i>
                        </div>
                        <input type="text" id="searchInput" class="w-full bg-gray-100 rounded-xl py-3 pl-10 pr-4 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:bg-white transition-all" placeholder="Search connections...">
                    </div>
                </div>

                <!-- Tab Content -->
                <div id="tabContent" class="flex-1 overflow-y-auto custom-scrollbar">
                    <!-- Chats Tab -->
                    <div id="chatsTab" class="tab-panel active">
                        <div id="chatList" class="space-y-1 p-2">
                            <!-- Chat items will be populated from Firebase -->
                            <div id="noChatsMessage" class="p-8 text-center text-gray-500">
                                <i class="fas fa-comments text-4xl mb-3 text-gray-300 block"></i>
                                <p>No conversations yet</p>
                                <p class="text-sm mt-1">Start a conversation to begin</p>
                            </div>
                        </div>
                    </div>

                    <!-- Friends Tab -->
                    <div id="friendsTab" class="tab-panel hidden">
                        <div class="p-4">
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="font-semibold text-lg">Friends</h3>
                                <button id="addFriendBtn" class="bg-purple-600 text-white px-4 py-2 rounded-xl hover:bg-purple-700 transition-colors">
                                    <i class="fas fa-user-plus mr-2"></i>Add Friend
                                </button>
                            </div>
                            
                            <div class="mb-4">
                                <div class="relative">
                                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                        <i class="fas fa-search text-gray-400"></i>
                                    </div>
                                    <input type="text" id="friendSearch" class="w-full bg-gray-100 rounded-xl py-3 pl-10 pr-4 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:bg-white transition-all" placeholder="Search friends by name, email, or phone...">
                                </div>
                            </div>
                            
                            <!-- Friend Requests Section -->
                            <div id="friendRequestsSection" class="mb-4">
                                <h4 class="font-medium text-gray-700 mb-2">Friend Requests</h4>
                                <div id="friendRequestsList" class="space-y-2">
                                    <!-- Friend requests will be populated from Firebase -->
                                </div>
                                <div id="noFriendRequests" class="text-center text-gray-500 py-2 text-sm">
                                    No pending friend requests
                                </div>
                            </div>
                            
                            <div id="friendsList" class="space-y-2">
                                <!-- Friends will be populated from Firebase -->
                            </div>
                            
                            <div id="noFriendsMessage" class="p-8 text-center text-gray-500">
                                <i class="fas fa-user-friends text-4xl mb-3 text-gray-300 block"></i>
                                <p>No friends yet</p>
                                <p class="text-sm mt-1">Add friends to start messaging</p>
                            </div>
                        </div>
                    </div>

                    <!-- Updates Tab -->
                    <div id="updatesTab" class="tab-panel hidden">
                        <div class="p-4">
                            <div class="flex items-center space-x-4 mb-6 cursor-pointer p-3 rounded-2xl hover:bg-gray-50 transition-colors" id="myStatus">
                                <div class="status-ring" style="--progress: 0%">
                                    <div class="status-ring-inner">
                                        <i class="fas fa-plus text-green-500 text-xl"></i>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold">My Status</p>
                                    <p class="text-sm text-gray-500">Tap to share update</p>
                                </div>
                            </div>

                            <h3 class="text-sm font-semibold text-gray-500 mb-3 px-3">Recent Updates</h3>
                            <div id="statusUpdates" class="space-y-3">
                                <!-- Status updates will be populated from Firebase -->
                            </div>
                        </div>
                    </div>

                    <!-- Calls Tab -->
                    <div id="callsTab" class="tab-panel hidden">
                        <div class="p-4">
                            <!-- Favorites Section -->
                            <div class="mb-6">
                                <div class="flex justify-between items-center mb-3">
                                    <h3 class="font-semibold">Favorites</h3>
                                    <button class="text-purple-600 text-sm font-semibold" id="manageFavorites">Manage</button>
                                </div>
                                <div id="favoritesList" class="space-y-3">
                                    <!-- Favorites will be populated from Firebase -->
                                </div>
                            </div>

                            <!-- Recent Calls -->
                            <h3 class="font-semibold mb-3">Recent Calls</h3>
                            <div id="recentCalls" class="space-y-4">
                                <!-- Recent calls will be populated from Firebase -->
                            </div>
                        </div>
                    </div>

                    <!-- Tools Tab -->
                    <div id="toolsTab" class="tab-panel hidden">
                        <div class="p-4 space-y-4">
                            <!-- Mood Settings -->
                            <div class="bg-white rounded-2xl p-4 shadow-sm border border-gray-200">
                                <h3 class="font-semibold mb-3 flex items-center">
                                    <i class="fas fa-smile mr-2 text-purple-500"></i>
                                    Current Mood
                                </h3>
                                <div class="flex flex-wrap gap-2 mb-3">
                                    <button class="mood-option px-3 py-2 rounded-full text-sm border-2 border-gray-200 hover:border-purple-300 transition-colors" data-mood="happy">ðŸ˜Š Happy</button>
                                    <button class="mood-option px-3 py-2 rounded-full text-sm border-2 border-gray-200 hover:border-blue-300 transition-colors" data-mood="calm">ðŸ˜Œ Calm</button>
                                    <button class="mood-option px-3 py-2 rounded-full text-sm border-2 border-gray-200 hover:border-red-300 transition-colors" data-mood="energetic">âš¡ Energetic</button>
                                    <button class="mood-option px-3 py-2 rounded-full text-sm border-2 border-gray-200 hover:border-green-300 transition-colors" data-mood="focused">ðŸŽ¯ Focused</button>
                                    <button class="mood-option px-3 py-2 rounded-full text-sm border-2 border-gray-200 hover:border-purple-300 transition-colors" data-mood="creative">ðŸŽ¨ Creative</button>
                                </div>
                                <p class="text-xs text-gray-500">Your mood influences chat suggestions and themes</p>
                            </div>

                            <!-- Quick Actions -->
                            <div class="bg-white rounded-2xl p-4 shadow-sm border border-gray-200">
                                <h3 class="font-semibold mb-3">Quick Actions</h3>
                                <div class="grid grid-cols-2 gap-3">
                                    <button class="p-4 bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl text-center hover:shadow-md transition-all" id="privacyBtn">
                                        <i class="fas fa-shield-alt text-2xl mb-2 block text-purple-600"></i>
                                        <p class="text-sm font-medium">Privacy</p>
                                    </button>
                                    <button class="p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl text-center hover:shadow-md transition-all" id="settingsBtn">
                                        <i class="fas fa-cog text-2xl mb-2 block text-blue-600"></i>
                                        <p class="text-sm font-medium">Settings</p>
                                    </button>
                                    <button class="p-4 bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl text-center hover:shadow-md transition-all" id="storageBtn">
                                        <i class="fas fa-database text-2xl mb-2 block text-gray-600"></i>
                                        <p class="text-sm font-medium">Storage</p>
                                    </button>
                                    <button class="p-4 bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl text-center hover:shadow-md transition-all" id="inviteBtn">
                                        <i class="fas fa-user-plus text-2xl mb-2 block text-orange-600"></i>
                                        <p class="text-sm font-medium">Invite</p>
                                    </button>
                                </div>
                            </div>

                            <!-- Business Tools -->
                            <div class="bg-white rounded-2xl p-4 shadow-sm border border-gray-200">
                                <h3 class="font-semibold mb-3 flex items-center">
                                    <i class="fas fa-briefcase mr-2 text-purple-500"></i>
                                    Business Tools
                                </h3>
                                <div class="space-y-3">
                                    <button class="w-full p-3 bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl text-left hover:shadow-md transition-all flex items-center justify-between" id="catalogueBtn">
                                        <div>
                                            <p class="font-medium text-purple-700">Catalogue</p>
                                            <p class="text-sm text-purple-600">Manage your product catalogue</p>
                                        </div>
                                        <i class="fas fa-shopping-cart text-purple-500"></i>
                                    </button>
                                    <button class="w-full p-3 bg-gradient-to-r from-green-50 to-teal-50 rounded-xl text-left hover:shadow-md transition-all flex items-center justify-between" id="advertiseBtn">
                                        <div>
                                            <p class="font-medium text-green-700">Advertise</p>
                                            <p class="text-sm text-green-600">Create and manage ads</p>
                                        </div>
                                        <i class="fas fa-bullhorn text-green-500"></i>
                                    </button>
                                    <button class="w-full p-3 bg-gradient-to-r from-orange-50 to-amber-50 rounded-xl text-left hover:shadow-md transition-all flex items-center justify-between" id="labelsBtn">
                                        <div>
                                            <p class="font-medium text-orange-700">Labels</p>
                                            <p class="text-sm text-orange-600">Organize with labels</p>
                                        </div>
                                        <i class="fas fa-tags text-orange-500"></i>
                                    </button>
                                    <button class="w-full p-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl text-left hover:shadow-md transition-all flex items-center justify-between" id="greetingBtn">
                                        <div>
                                            <p class="font-medium text-blue-700">Greeting Message</p>
                                            <p class="text-sm text-blue-600">Set up welcome messages</p>
                                        </div>
                                        <i class="fas fa-comment-dots text-blue-500"></i>
                                    </button>
                                    <button class="w-full p-3 bg-gradient-to-r from-red-50 to-pink-50 rounded-xl text-left hover:shadow-md transition-all flex items-center justify-between" id="awayBtn">
                                        <div>
                                            <p class="font-medium text-red-700">Away Message</p>
                                            <p class="text-sm text-red-600">Set up away messages</p>
                                        </div>
                                        <i class="fas fa-clock text-red-500"></i>
                                    </button>
                                </div>
                            </div>

                            <!-- AI Features -->
                            <div class="bg-white rounded-2xl p-4 shadow-sm border border-gray-200">
                                <h3 class="font-semibold mb-3 flex items-center">
                                    <i class="fas fa-robot mr-2 text-purple-500"></i>
                                    AI Assistant
                                </h3>
                                <div class="space-y-3">
                                    <button class="w-full p-3 bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl text-left hover:shadow-md transition-all flex items-center justify-between" id="aiSummarize">
                                        <div>
                                            <p class="font-medium text-purple-700">Summarize Conversation</p>
                                            <p class="text-sm text-purple-600">Get AI summary of recent messages</p>
                                        </div>
                                        <i class="fas fa-sparkles text-purple-500"></i>
                                    </button>
                                    <button class="w-full p-3 bg-gradient-to-r from-green-50 to-teal-50 rounded-xl text-left hover:shadow-md transition-all flex items-center justify-between" id="aiReply">
                                        <div>
                                            <p class="font-medium text-green-700">Smart Reply Suggestions</p>
                                            <p class="text-sm text-green-600">Get context-aware reply ideas</p>
                                        </div>
                                        <i class="fas fa-lightbulb text-green-500"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Chat Area -->
            <div class="chat-area flex-1 flex flex-col bg-gray-50">
                <!-- Chat Header -->
                <div id="chatHeader" class="kynecta-header p-4 flex justify-between items-center hidden">
                    <div class="flex items-center">
                        <div class="mobile-only mr-3">
                            <i class="fas fa-arrow-left text-white cursor-pointer hover:scale-110 transition-transform" id="backToChats"></i>
                        </div>
                        <img id="chatAvatar" class="w-12 h-12 rounded-2xl bg-white/20 flex items-center justify-center text-white font-semibold mr-3 object-cover border-2 border-white/30" src="" alt="Chat">
                        <div>
                            <h3 id="chatTitle" class="font-semibold text-white">Select a chat</h3>
                            <p id="chatStatus" class="text-white/80 text-sm flex items-center">
                                <span id="moodIndicator" class="mood-indicator mood-happy-indicator"></span>
                                <span id="statusText">Choose a conversation</span>
                                <span id="typingIndicator" class="typing-indicator hidden ml-2">
                                    typing
                                    <div class="typing-dots">
                                        <div class="typing-dot"></div>
                                        <div class="typing-dot"></div>
                                        <div class="typing-dot"></div>
                                    </div>
                                </span>
                            </p>
                        </div>
                    </div>
                    <div class="flex space-x-3 text-white">
                        <i class="fas fa-video text-xl cursor-pointer hover:scale-110 transition-transform" id="videoCallBtn"></i>
                        <i class="fas fa-phone text-xl cursor-pointer hover:scale-110 transition-transform" id="voiceCallBtn"></i>
                        <i class="fas fa-ellipsis-v text-xl cursor-pointer hover:scale-110 transition-transform" id="chatMenuBtn"></i>
                    </div>
                </div>

                <!-- Shared Goals Section -->
                <div id="sharedGoalsSection" class="hidden mx-4 mt-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl border border-blue-200">
                    <div class="flex justify-between items-center mb-3">
                        <h3 class="font-semibold text-blue-800 flex items-center">
                            <i class="fas fa-bullseye mr-2"></i>
                            Shared Goals
                        </h3>
                        <button id="toggleGoals" class="text-blue-500 hover:text-blue-700 transition-colors">
                            <i class="fas fa-chevron-up"></i>
                        </button>
                    </div>
                    <div id="sharedGoalsContent">
                        <div id="noGoalsMessage" class="text-center text-blue-500 py-2">
                            <p>No shared goals yet. Create one to get started!</p>
                        </div>
                        <div id="goalsList" class="space-y-3 hidden">
                            <!-- Goals will be populated from Firebase -->
                        </div>
                        <button id="createGoalBtn" class="w-full mt-3 py-2 bg-blue-500 text-white rounded-xl font-semibold hover:bg-blue-600 transition-colors flex items-center justify-center">
                            <i class="fas fa-plus mr-2"></i>Create New Goal
                        </button>
                    </div>
                </div>

                <!-- Message Highlights Panel -->
                <div id="highlightsPanel" class="hidden bg-white border-b border-gray-200 p-3">
                    <div class="flex justify-between items-center">
                        <h3 class="font-semibold text-purple-700 flex items-center">
                            <i class="fas fa-tags mr-2"></i>
                            Message Highlights
                        </h3>
                        <button id="toggleHighlights" class="text-purple-500 hover:text-purple-700 transition-colors">
                            <i class="fas fa-chevron-down"></i>
                        </button>
                    </div>
                    <div id="highlightsContent" class="hidden mt-2">
                        <div class="flex flex-wrap gap-2" id="hashtagsList">
                            <!-- Hashtags will be populated from Firebase -->
                        </div>
                        <div id="noHighlightsMessage" class="text-center text-gray-500 py-3">
                            <p>No highlighted messages yet. Use #important or #todo in your messages.</p>
                        </div>
                    </div>
                </div>

                <!-- Messages Area -->
                <div id="messagesContainer" class="flex-1 overflow-y-auto p-4 custom-scrollbar relative">
                    <div id="noMessagesMessage" class="text-center text-gray-500 py-10">
                        <i class="fas fa-comments text-4xl mb-3 text-gray-300 block"></i>
                        <p>No messages yet</p>
                        <p class="text-sm mt-1">Select a chat to start messaging</p>
                    </div>
                    <!-- Messages will be populated from Firebase -->
                    <div id="messagesList" class="space-y-4">
                        <!-- Messages will be dynamically added here -->
                    </div>
                    <div id="scrollToBottom" class="scroll-to-bottom hidden">
                        <i class="fas fa-chevron-down"></i>
                    </div>
                </div>

                <!-- Poll Results Display -->
                <div id="pollResultsSection" class="hidden mx-4 mb-2 p-4 bg-gradient-to-r from-green-50 to-teal-50 rounded-2xl border border-green-200">
                    <div class="flex justify-between items-start">
                        <div class="flex-1">
                            <p class="text-sm font-semibold text-green-800 flex items-center">
                                <i class="fas fa-chart-bar mr-2"></i>
                                Poll Results
                            </p>
                            <div id="pollResultsContent" class="mt-2 space-y-2">
                                <!-- Poll results will be populated from Firebase -->
                            </div>
                        </div>
                        <button id="dismissPollResults" class="text-green-400 hover:text-green-600 transition-colors ml-2">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                </div>

                <!-- Mood Suggestion -->
                <div id="moodSuggestion" class="hidden mx-4 mb-2 p-4 rounded-2xl bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-sm font-semibold text-purple-800 flex items-center">
                                <i class="fas fa-smile mr-2"></i>
                                Mood-based Suggestion
                            </p>
                            <p id="suggestionText" class="text-sm text-purple-600 mt-1"></p>
                        </div>
                        <button id="dismissSuggestion" class="text-purple-400 hover:text-purple-600 transition-colors">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                </div>

                <!-- Input Area -->
                <div id="inputArea" class="bg-white p-4 border-t border-gray-200 hidden">
                    <div class="flex items-center">
                        <div class="flex space-x-2 mr-3">
                            <button class="w-12 h-12 rounded-2xl flex items-center justify-center text-gray-500 hover:bg-purple-50 hover:text-purple-600 transition-all" id="attachBtn">
                                <i class="fas fa-plus"></i>
                            </button>
                            <button class="w-12 h-12 rounded-2xl flex items-center justify-center text-gray-500 hover:bg-purple-50 hover:text-purple-600 transition-all" id="cameraBtn">
                                <i class="fas fa-camera"></i>
                            </button>
                            <button class="w-12 h-12 rounded-2xl flex items-center justify-center text-gray-500 hover:bg-purple-50 hover:text-purple-600 transition-all" id="emojiBtn">
                                <i class="fas fa-smile"></i>
                            </button>
                            <!-- Voice-to-Text Button -->
                            <button class="w-12 h-12 rounded-2xl flex items-center justify-center text-gray-500 hover:bg-purple-50 hover:text-purple-600 transition-all relative" id="voiceToTextBtn">
                                <i class="fas fa-microphone"></i>
                                <div id="voiceRecordingIndicator" class="absolute inset-0 rounded-2xl bg-red-500 opacity-0 scale-0 transition-all duration-300"></div>
                            </button>
                        </div>
                        <div class="flex-1 relative">
                            <input type="text" id="messageInput" class="w-full bg-gray-100 py-3 px-4 rounded-2xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:bg-white transition-all" placeholder="Type a message..." disabled>
                            <!-- Emoji Picker -->
                            <div id="emojiPicker" class="emoji-picker">
                                <!-- Emoji categories will be populated here -->
                            </div>
                            <!-- Typing Indicator -->
                            <div id="isTyping" class="absolute -top-6 left-0 text-xs text-gray-500 hidden">
                                <span id="typingUsers"></span> is typing...
                            </div>
                        </div>
                        <div class="ml-3">
                            <button id="sendBtn" class="w-12 h-12 bg-gradient-to-r from-purple-500 to-green-500 text-white rounded-2xl flex items-center justify-center hover:opacity-90 transition-all shadow-lg" disabled>
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Poll Creation Section -->
                    <div id="pollCreationSection" class="hidden mt-3 p-3 bg-gray-100 rounded-xl">
                        <div class="flex justify-between items-center mb-2">
                            <h4 class="font-semibold text-gray-700">Create Poll</h4>
                            <button id="closePollCreation" class="text-gray-500 hover:text-gray-700">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <input type="text" id="pollQuestion" class="w-full p-2 mb-2 border border-gray-300 rounded-lg" placeholder="Enter poll question">
                        <div id="pollOptions" class="space-y-2 mb-2">
                            <input type="text" class="w-full p-2 border border-gray-300 rounded-lg poll-option" placeholder="Option 1">
                            <input type="text" class="w-full p-2 border border-gray-300 rounded-lg poll-option" placeholder="Option 2">
                        </div>
                        <button id="addPollOption" class="w-full py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors mb-2">
                            <i class="fas fa-plus mr-1"></i>Add Option
                        </button>
                        <div class="flex space-x-2">
                            <button id="createPoll" class="flex-1 py-2 bg-green-500 text-white rounded-lg font-semibold hover:bg-green-600 transition-colors">
                                Create Poll
                            </button>
                            <button id="cancelPoll" class="flex-1 py-2 bg-gray-500 text-white rounded-lg font-semibold hover:bg-gray-600 transition-colors">
                                Cancel
                            </button>
                        </div>
                    </div>

                    <!-- File Preview -->
                    <div id="filePreview" class="hidden mt-3 p-3 bg-gray-100 rounded-xl">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center">
                                <i class="fas fa-file text-gray-600 mr-3"></i>
                                <div>
                                    <p id="fileName" class="font-medium"></p>
                                    <p id="fileSize" class="text-sm text-gray-500"></p>
                                </div>
                            </div>
                            <div class="upload-progress">
                                <div id="uploadProgressBar" class="upload-progress-bar" style="width: 0%"></div>
                            </div>
                            <button id="removeFile" class="text-gray-500 hover:text-gray-700 ml-3">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Video Conference -->
    <div class="video-conference" id="videoConference">
        <div class="conference-grid" id="conferenceGrid">
            <!-- Participant videos will be added here -->
        </div>
        <div class="call-controls">
            <button class="call-btn call-mute" id="conferenceMuteBtn">
                <i class="fas fa-microphone"></i>
            </button>
            <button class="call-btn call-video" id="conferenceVideoBtn">
                <i class="fas fa-video"></i>
            </button>
            <button class="call-btn call-end" id="conferenceEndBtn">
                <i class="fas fa-phone"></i>
            </button>
        </div>
    </div>

    <!-- Video Call Container -->
    <div class="video-call-container" id="videoCallContainer">
        <video class="remote-video" id="remoteVideo" autoplay></video>
        <video class="local-video" id="localVideo" autoplay muted></video>
        <div class="call-controls">
            <button class="call-btn call-mute" id="muteBtn">
                <i class="fas fa-microphone"></i>
            </button>
            <button class="call-btn call-video" id="videoToggleBtn">
                <i class="fas fa-video"></i>
            </button>
            <button class="call-btn call-end" id="endCallBtn">
                <i class="fas fa-phone"></i>
            </button>
        </div>
    </div>

    <!-- Create Goal Modal -->
    <div id="createGoalModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-hidden">
            <div class="kynecta-header p-6">
                <div class="flex items-center justify-between">
                    <h3 class="text-xl font-semibold text-white">Create Shared Goal</h3>
                    <button id="closeCreateGoal" class="text-white/80 hover:text-white transition-colors">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            
            <div class="overflow-y-auto max-h-[60vh] custom-scrollbar p-6">
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Goal Title</label>
                    <input type="text" id="goalTitle" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-purple-500 transition-colors" placeholder="Enter goal title">
                </div>
                
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Description</label>
                    <textarea id="goalDescription" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-purple-500 transition-colors" placeholder="Enter goal description" rows="3"></textarea>
                </div>
                
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Due Date (Optional)</label>
                    <input type="date" id="goalDueDate" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-purple-500 transition-colors">
                </div>
                
                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Progress</label>
                    <div class="flex items-center space-x-3">
                        <input type="range" id="goalProgress" class="flex-1" min="0" max="100" value="0">
                        <span id="goalProgressValue" class="text-sm font-medium text-gray-700">0%</span>
                    </div>
                </div>
                
                <div class="flex space-x-3">
                    <button id="saveGoal" class="flex-1 py-3 bg-gradient-to-r from-purple-500 to-green-500 text-white rounded-xl font-semibold hover:opacity-90 transition-opacity">
                        Create Goal
                    </button>
                    <button id="cancelGoal" class="flex-1 py-3 bg-gray-500 text-white rounded-xl font-semibold hover:opacity-90 transition-opacity">
                        Cancel
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Status Creation Modal -->
    <div id="statusCreation" class="status-creation">
        <div class="status-creation-content">
            <div class="kynecta-header p-4">
                <div class="flex items-center justify-between">
                    <h3 class="text-xl font-semibold text-white">Create Status Update</h3>
                    <button id="closeStatusCreation" class="text-white/80 hover:text-white transition-colors">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            
            <div class="status-options">
                <div class="status-option active" data-type="emoji">
                    <i class="fas fa-smile text-xl mb-2"></i>
                    <p>Emoji</p>
                </div>
                <div class="status-option" data-type="text">
                    <i class="fas fa-font text-xl mb-2"></i>
                    <p>Text</p>
                </div>
                <div class="status-option" data-type="image">
                    <i class="fas fa-image text-xl mb-2"></i>
                    <p>Image</p>
                </div>
                <div class="status-option" data-type="video">
                    <i class="fas fa-video text-xl mb-2"></i>
                    <p>Video</p>
                </div>
                <div class="status-option" data-type="audio">
                    <i class="fas fa-music text-xl mb-2"></i>
                    <p>Audio</p>
                </div>
            </div>
            
            <div class="status-preview">
                <div id="emojiPreview" class="status-emoji-input" contenteditable="true">ðŸ˜Š</div>
                <div id="textPreview" class="hidden">
                    <textarea id="statusTextInput" class="status-text-input" placeholder="What's on your mind?"></textarea>
                </div>
                <div id="imagePreview" class="hidden">
                    <img id="statusImagePreview" class="status-media-preview hidden" alt="Status image preview">
                    <button id="uploadImageBtn" class="bg-purple-600 text-white px-4 py-2 rounded-xl hover:bg-purple-700 transition-colors">
                        <i class="fas fa-upload mr-2"></i>Upload Image
                    </button>
                </div>
                <div id="videoPreview" class="hidden">
                    <video id="statusVideoPreview" class="status-video-preview hidden" controls></video>
                    <button id="uploadVideoBtn" class="bg-purple-600 text-white px-4 py-2 rounded-xl hover:bg-purple-700 transition-colors">
                        <i class="fas fa-upload mr-2"></i>Upload Video (6s max)
                    </button>
                </div>
                <div id="audioPreview" class="hidden">
                    <audio id="statusAudioPreview" class="status-audio-preview hidden" controls></audio>
                    <button id="uploadAudioBtn" class="bg-purple-600 text-white px-4 py-2 rounded-xl hover:bg-purple-700 transition-colors">
                        <i class="fas fa-upload mr-2"></i>Upload Audio (6s max)
                    </button>
                </div>
            </div>
            
            <div class="p-4 border-t border-gray-200">
                <button id="postStatus" class="w-full py-3 bg-gradient-to-r from-purple-500 to-green-500 text-white rounded-xl font-semibold hover:opacity-90 transition-opacity">
                    Post Status
                </button>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settingsModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-hidden">
            <div class="kynecta-header p-6">
                <div class="flex items-center justify-between">
                    <h3 class="text-xl font-semibold text-white">Settings</h3>
                    <button id="closeSettings" class="text-white/80 hover:text-white transition-colors">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            
            
            <div class="overflow-y-auto max-h-[60vh] custom-scrollbar">
                <!-- Profile Section -->
                <div class="p-6 border-b border-gray-200">
                    <div class="flex items-center space-x-4 mb-4">
                        <div class="profile-upload">
                            <div class="w-16 h-16 rounded-full bg-gradient-to-r from-purple-500 to-green-500 flex items-center justify-center text-white text-xl font-bold">
                                <img id="settingsProfilePic" class="w-full h-full rounded-full object-cover" src="" alt="Profile">
                            </div>
                            <input type="file" id="profilePicUpload" accept="image/*">
                            <div class="profile-photo-edit">
                                <i class="fas fa-camera"></i>
                            </div>
                        </div>
                        <div>
                            <h4 class="font-semibold text-lg" id="settingsUserName">Loading...</h4>
                            <p class="text-gray-500 text-sm" id="settingsUserBio">Loading...</p>
                        </div>
                    </div>
                    
                    <div class="settings-item" id="profileSettingsBtn">
                        <div class="settings-item-content">
                            <div class="settings-item-title">Profile</div>
                            <div class="settings-item-description">Edit your profile information</div>
                        </div>
                        <div class="settings-item-action">
                            <i class="fas fa-chevron-right text-gray-400"></i>
                        </div>
                    </div>
                </div>

                <!-- Account Section -->
                <div class="settings-section">
                    <h4 class="font-semibold mb-4 text-lg text-gray-800">Account</h4>
                    <div class="space-y-1">
                        <div class="settings-item" id="securitySettingsBtn">
                            <div class="settings-item-content">
                                <div class="settings-item-title">Security notifications</div>
                                <div class="settings-item-description">Passkeys, two-step verification</div>
                            </div>
                            <div class="settings-item-action">
                                <i class="fas fa-chevron-right text-gray-400"></i>
                            </div>
                        </div>
                        
                        <div class="settings-item" id="privacySettingsBtn">
                            <div class="settings-item-content">
                                <div class="settings-item-title">Privacy</div>
                                <div class="settings-item-description">Block contacts, disappearing messages</div>
                            </div>
                            <div class="settings-item-action">
                                <i class="fas fa-chevron-right text-gray-400"></i>
                            </div>
                        </div>
                        
                        <div class="settings-item" id="avatarSettingsBtn">
                            <div class="settings-item-content">
                                <div class="settings-item-title">Avatar</div>
                                <div class="settings-item-description">Create, edit, profile photo</div>
                            </div>
                            <div class="settings-item-action">
                                <i class="fas fa-chevron-right text-gray-400"></i>
                            </div>
                        </div>
                        
                        <div class="settings-item" id="favoritesSettingsBtn">
                            <div class="settings-item-content">
                                <div class="settings-item-title">Favorites</div>
                                <div class="settings-item-description">Add, reorder, remove</div>
                            </div>
                            <div class="settings-item-action">
                                <i class="fas fa-chevron-right text-gray-400"></i>
                            </div>
                        </div>
                        
                        <div class="settings-item" id="accessibilityBtn">
                            <div class="settings-item-content">
                                <div class="settings-item-title">Accessibility</div>
                                <div class="settings-item-description">Customize for your needs</div>
                            </div>
                            <div class="settings-item-action">
                                <i class="fas fa-chevron-right text-gray-400"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Notifications Section -->
                <div class="settings-section">
                    <h4 class="font-semibold mb-4 text-lg text-gray-800">Notifications</h4>
                    <div class="space-y-1">
                        <div class="settings-item" id="notificationsSettingsBtn">
                            <div class="settings-item-content">
                                <div class="settings-item-title">Notification Settings</div>
                                <div class="settings-item-description">Customize message, group & call notifications</div>
                            </div>
                            <div class="settings-item-action">
                                <i class="fas fa-chevron-right text-gray-400"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Storage & Data Section -->
                <div class="settings-section">
                    <h4 class="font-semibold mb-4 text-lg text-gray-800">Storage & Data</h4>
                    <div class="space-y-1">
                        <div class="settings-item" id="storageSettingsBtn">
                            <div class="settings-item-content">
                                <div class="settings-item-title">Storage and data</div>
                                <div class="settings-item-description">Network usage, auto-download</div>
                            </div>
                            <div class="settings-item-action">
                                <i class="fas fa-chevron-right text-gray-400"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- App Language Section -->
                <div class="settings-section">
                    <h4 class="font-semibold mb-4 text-lg text-gray-800">App Language</h4>
                    <div class="space-y-1">
                        <div class="settings-item" id="languageSettingsBtn">
                            <div class="settings-item-content">
                                <div class="settings-item-title">Language</div>
                                <div class="settings-item-description">Choose your preferred language</div>
                            </div>
                            <div class="settings-item-action">
                                <i class="fas fa-chevron-right text-gray-400"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Chats Section -->
                <div class="settings-section">
                    <h4 class="font-semibold mb-4 text-lg text-gray-800">Chats</h4>
                    <div class="space-y-1">
                        <div class="settings-item" id="chatsSettingsBtn">
                            <div class="settings-item-content">
                                <div class="settings-item-title">Chat settings</div>
                                <div class="settings-item-description">Theme, wallpapers, chat history</div>
                            </div>
                            <div class="settings-item-action">
                                <i class="fas fa-chevron-right text-gray-400"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Help Section -->
                <div class="settings-section">
                    <h4 class="font-semibold mb-4 text-lg text-gray-800">Help & Support</h4>
                    <div class="space-y-1">
                        <div class="settings-item" id="helpCenterBtn">
                            <div class="settings-item-content">
                                <div class="settings-item-title">Help Center</div>
                                <div class="settings-item-description">Get help and tutorials</div>
                            </div>
                            <div class="settings-item-action">
                                <i class="fas fa-chevron-right text-gray-400"></i>
                            </div>
                        </div>
                        
                        <div class="settings-item" id="contactUsBtn">
                            <div class="settings-item-content">
                                <div class="settings-item-title">Contact Us</div>
                                <div class="settings-item-description">Reach out for support</div>
                            </div>
                            <div class="settings-item-action">
                                <i class="fas fa-chevron-right text-gray-400"></i>
                            </div>
                        </div>
                        
                        <div class="settings-item" id="appInfoBtn">
                            <div class="settings-item-content">
                                <div class="settings-item-title">App Info</div>
                                <div class="settings-item-description">Version and about</div>
                            </div>
                            <div class="settings-item-action">
                                <i class="fas fa-chevron-right text-gray-400"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Invite Section -->
                <div class="settings-section">
                    <h4 class="font-semibold mb-4 text-lg text-gray-800">Invite</h4>
                    <div class="space-y-1">
                        <div class="settings-item" id="inviteContactBtn">
                            <div class="settings-item-content">
                                <div class="settings-item-title">Invite a Contact</div>
                                <div class="settings-item-description">Share Kynecta with friends</div>
                            </div>
                            <div class="settings-item-action">
                                <i class="fas fa-chevron-right text-gray-400"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Logout -->
            <div class="p-6 border-t border-gray-200">
                <button id="logoutBtn" class="w-full py-4 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl font-semibold hover:opacity-90 transition-opacity">
                    Log Out
                </button>
            </div>
        </div>
    </div>

    <!-- Add Friend Modal -->
    <div id="addFriendModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl w-full max-w-md max-h-[80vh] overflow-hidden">
            <div class="kynecta-header p-6">
                <h3 class="text-xl font-semibold text-white text-center">Add New Friend</h3>
            </div>
            
            <div class="p-6">
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Search by Email, Phone, or Name</label>
                    <input type="text" id="friendSearchInput" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-purple-500 transition-colors" placeholder="Enter email, phone number, or name">
                </div>
                
                <div id="searchResults" class="mb-4 max-h-40 overflow-y-auto hidden">
                    <!-- Search results will appear here -->
                </div>
                
                <div class="flex space-x-3">
                    <button id="searchFriend" class="flex-1 py-3 bg-gradient-to-r from-purple-500 to-green-500 text-white rounded-xl font-semibold hover:opacity-90 transition-opacity">
                        Search
                    </button>
                    <button id="cancelFriend" class="flex-1 py-3 bg-gray-500 text-white rounded-xl font-semibold hover:opacity-90 transition-opacity">
                        Cancel
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Enhanced Friend Search Results Modal -->
    <div id="friendSearchResultsModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl w-full max-w-md max-h-[80vh] overflow-hidden">
            <div class="kynecta-header p-6">
                <h3 class="text-xl font-semibold text-white text-center">Search Results</h3>
            </div>
            
            <div class="p-6">
                <div id="enhancedSearchResults" class="space-y-3 max-h-60 overflow-y-auto">
                    <!-- Enhanced search results will appear here -->
                </div>
                
                <div class="mt-4">
                    <button id="closeEnhancedSearch" class="w-full py-3 bg-gray-500 text-white rounded-xl font-semibold hover:opacity-90 transition-opacity">
                        Close
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Friend Modal -->
    <div id="editFriendModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl w-full max-w-md max-h-[80vh] overflow-hidden">
            <div class="kynecta-header p-6">
                <h3 class="text-xl font-semibold text-white text-center">Friend Options</h3>
            </div>
            
            <div class="p-6">
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Name</label>
                    <input type="text" id="editFriendName" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-purple-500 transition-colors" placeholder="Enter friend name" readonly>
                </div>
                
                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Status</label>
                    <input type="text" id="editFriendStatus" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-purple-500 transition-colors" placeholder="Friend status" readonly>
                </div>
                
                <div class="flex space-x-3">
                    <button id="messageFriend" class="flex-1 py-3 bg-gradient-to-r from-purple-500 to-green-500 text-white rounded-xl font-semibold hover:opacity-90 transition-opacity">
                        Message
                    </button>
                    <button id="callFriend" class="flex-1 py-3 bg-blue-500 text-white rounded-xl font-semibold hover:opacity-90 transition-opacity">
                        Call
                    </button>
                    <button id="removeFriend" class="flex-1 py-3 bg-red-500 text-white rounded-xl font-semibold hover:opacity-90 transition-opacity">
                        Remove
                    </button>
                    <button id="cancelEditFriend" class="flex-1 py-3 bg-gray-500 text-white rounded-xl font-semibold hover:opacity-90 transition-opacity">
                        Cancel
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Profile Settings Modal -->
    <div id="profileSettingsModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-hidden">
            <div class="kynecta-header p-6">
                <div class="flex items-center justify-between">
                    <h3 class="text-xl font-semibold text-white">Profile Settings</h3>
                    <button id="closeProfileSettings" class="text-white/80 hover:text-white transition-colors">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            
            <div class="overflow-y-auto max-h-[60vh] custom-scrollbar p-6">
                <div class="mb-6">
                    <div class="profile-cover mb-4">
                        <img id="profileCoverPreview" class="w-full h-full object-cover rounded-t-2xl" src="" alt="Cover">
                        <div class="profile-cover-edit">
                            <i class="fas fa-camera mr-2"></i>Edit Cover
                        </div>
                        <input type="file" id="coverPicUpload" accept="image/*" class="hidden">
                    </div>
                    
                    <div class="flex justify-center -mt-12 mb-4">
                        <div class="profile-upload">
                            <div class="w-24 h-24 rounded-full bg-gradient-to-r from-purple-500 to-green-500 flex items-center justify-center text-white text-xl font-bold border-4 border-white">
                                <img id="profilePicPreview" class="w-full h-full rounded-full object-cover" src="" alt="Profile">
                            </div>
                            <input type="file" id="profilePictureUpload" accept="image/*" class="hidden">
                            <div class="profile-photo-edit">
                                <i class="fas fa-camera"></i>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Display Name</label>
                    <input type="text" id="profileName" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-purple-500 transition-colors" placeholder="Enter your display name">
                </div>
                
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">About</label>
                    <textarea id="profileAbout" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-purple-500 transition-colors" placeholder="Tell something about yourself" rows="3"></textarea>
                </div>
                
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                    <input type="email" id="profileEmail" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-purple-500 transition-colors" placeholder="Enter your email">
                </div>
                
                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Phone Number</label>
                    <input type="tel" id="profilePhone" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-purple-500 transition-colors" placeholder="Enter your phone number">
                </div>
                
                <div class="flex space-x-3">
                    <button id="saveProfile" class="flex-1 py-3 bg-gradient-to-r from-purple-500 to-green-500 text-white rounded-xl font-semibold hover:opacity-90 transition-opacity">
                        Save Profile
                    </button>
                    <button id="cancelProfile" class="flex-1 py-3 bg-gray-500 text-white rounded-xl font-semibold hover:opacity-90 transition-opacity">
                        Cancel
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Privacy Settings Modal -->
    <div id="privacySettingsModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-hidden">
            <div class="kynecta-header p-6">
                <div class="flex items-center justify-between">
                    <h3 class="text-xl font-semibold text-white">Privacy Settings</h3>
                    <button id="closePrivacySettings" class="text-white/80 hover:text-white transition-colors">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            
            <div class="overflow-y-auto max-h-[60vh] custom-scrollbar p-6">
                <div class="mb-6">
                    <h4 class="font-semibold mb-4 text-lg text-gray-800">Who can see my personal info</h4>
                    
                    <div class="space-y-4">
                        <div class="flex justify-between items-center">
                            <div>
                                <p class="font-medium">Last seen & online</p>
                            </div>
                            <select id="lastSeenPrivacy" class="p-2 border border-gray-300 rounded-lg">
                                <option value="everyone">Everyone</option>
                                <option value="contacts">My contacts</option>
                                <option value="nobody">Nobody</option>
                            </select>
                        </div>
                        
                        <div class="flex justify-between items-center">
                            <div>
                                <p class="font-medium">Profile photo</p>
                            </div>
                            <select id="profilePhotoPrivacy" class="p-2 border border-gray-300 rounded-lg">
                                <option value="everyone">Everyone</option>
                                <option value="contacts">My contacts</option>
                                <option value="nobody">Nobody</option>
                            </select>
                        </div>
                        
                        <div class="flex justify-between items-center">
                            <div>
                                <p class="font-medium">About</p>
                            </div>
                            <select id="aboutPrivacy" class="p-2 border border-gray-300 rounded-lg">
                                <option value="everyone">Everyone</option>
                                <option value="contacts">My contacts</option>
                                <option value="nobody">Nobody</option>
                            </select>
                        </div>
                        
                        <div class="flex justify-between items-center">
                            <div>
                                <p class="font-medium">Status</p>
                            </div>
                            <select id="statusPrivacy" class="p-2 border border-gray-300 rounded-lg">
                                <option value="everyone">Everyone</option>
                                <option value="contacts">My contacts</option>
                                <option value="nobody">Nobody</option>
                            </select>
                        </div>
                        
                        <div class="flex justify-between items-center">
                            <div>
                                <p class="font-medium">Read receipts</p>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" id="readReceiptsPrivacy" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        
                        <div class="flex justify-between items-center">
                            <div>
                                <p class="font-medium">Disappearing messages</p>
                            </div>
                            <select id="disappearingMessagesPrivacy" class="p-2 border border-gray-300 rounded-lg">
                                <option value="off">Off</option>
                                <option value="24h">24 hours</option>
                                <option value="7d">7 days</option>
                                <option value="90d">90 days</option>
                            </select>
                        </div>
                        
                        <div class="flex justify-between items-center">
                            <div>
                                <p class="font-medium">Groups</p>
                            </div>
                            <select id="groupsPrivacy" class="p-2 border border-gray-300 rounded-lg">
                                <option value="everyone">Everyone</option>
                                <option value="contacts">My contacts</option>
                                <option value="nobody">Nobody</option>
                            </select>
                        </div>
                        
                        <div class="flex justify-between items-center">
                            <div>
                                <p class="font-medium">Calls</p>
                            </div>
                            <select id="callsPrivacy" class="p-2 border border-gray-300 rounded-lg">
                                <option value="everyone">Everyone</option>
                                <option value="contacts">My contacts</option>
                                <option value="nobody">Nobody</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="flex space-x-3">
                    <button id="savePrivacy" class="flex-1 py-3 bg-gradient-to-r from-purple-500 to-green-500 text-white rounded-xl font-semibold hover:opacity-90 transition-opacity">
                        Save Privacy Settings
                    </button>
                    <button id="cancelPrivacy" class="flex-1 py-3 bg-gray-500 text-white rounded-xl font-semibold hover:opacity-90 transition-opacity">
                        Cancel
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Account Settings Modal -->
    <div id="accountSettingsModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-hidden">
            <div class="kynecta-header p-6">
                <div class="flex items-center justify-between">
                    <h3 class="text-xl font-semibold text-white">Account Settings</h3>
                    <button id="closeAccountSettings" class="text-white/80 hover:text-white transition-colors">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            
            <div class="overflow-y-auto max-h-[60vh] custom-scrollbar p-6">
                <div class="space-y-4">
                    <div class="settings-item" id="securityNotificationsBtn">
                        <div class="settings-item-content">
                            <div class="settings-item-title">Security notifications</div>
                            <div class="settings-item-description">Get alerts about unusual activity</div>
                        </div>
                        <div class="settings-item-action">
                            <i class="fas fa-chevron-right text-gray-400"></i>
                        </div>
                    </div>
                    
                    <div class="settings-item" id="passkeysBtn">
                        <div class="settings-item-content">
                            <div class="settings-item-title">Passkeys</div>
                            <div class="settings-item-description">Set up passkeys for secure login</div>
                        </div>
                        <div class="settings-item-action">
                            <i class="fas fa-chevron-right text-gray-400"></i>
                        </div>
                    </div>
                    
                    <div class="settings-item" id="emailAddressBtn">
                        <div class="settings-item-content">
                            <div class="settings-item-title">Email address</div>
                            <div class="settings-item-description">Change your email address</div>
                        </div>
                        <div class="settings-item-action">
                            <i class="fas fa-chevron-right text-gray-400"></i>
                        </div>
                    </div>
                    
                    <div class="settings-item" id="twoStepVerificationBtn">
                        <div class="settings-item-content">
                            <div class="settings-item-title">Two-step verification</div>
                            <div class="settings-item-description">Add an extra layer of security</div>
                        </div>
                        <div class="settings-item-action">
                            <i class="fas fa-chevron-right text-gray-400"></i>
                        </div>
                    </div>
                    
                    <div class="settings-item" id="businessPlatformBtn">
                        <div class="settings-item-content">
                            <div class="settings-item-title">Business platform</div>
                            <div class="settings-item-description">Manage your business account</div>
                        </div>
                        <div class="settings-item-action">
                            <i class="fas fa-chevron-right text-gray-400"></i>
                        </div>
                    </div>
                    
                    <div class="settings-item" id="changeNumberBtn">
                        <div class="settings-item-content">
                            <div class="settings-item-title">Change number</div>
                            <div class="settings-item-description">Transfer your account to a new number</div>
                        </div>
                        <div class="settings-item-action">
                            <i class="fas fa-chevron-right text-gray-400"></i>
                        </div>
                    </div>
                    
                    <div class="settings-item" id="requestAccountInfoBtn">
                        <div class="settings-item-content">
                            <div class="settings-item-title">Request account info</div>
                            <div class="settings-item-description">Download a report of your account</div>
                        </div>
                        <div class="settings-item-action">
                            <i class="fas fa-chevron-right text-gray-400"></i>
                        </div>
                    </div>
                    
                    <div class="settings-item" id="deleteAccountBtn">
                        <div class="settings-item-content">
                            <div class="settings-item-title">Delete account</div>
                            <div class="settings-item-description">Permanently delete your account</div>
                        </div>
                        <div class="settings-item-action">
                            <i class="fas fa-chevron-right text-gray-400"></i>
                        </div>
                    </div>
                </div>
                
                <div class="mt-6">
                    <button id="cancelAccount" class="w-full py-3 bg-gray-500 text-white rounded-xl font-semibold hover:opacity-90 transition-opacity">
                        Cancel
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Accessibility Settings Modal -->
    <div id="accessibilitySettingsModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-hidden">
            <div class="kynecta-header p-6">
                <div class="flex items-center justify-between">
                    <h3 class="text-xl font-semibold text-white">Accessibility Settings</h3>
                    <button id="closeAccessibilitySettings" class="text-white/80 hover:text-white transition-colors">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            
            <div class="overflow-y-auto max-h-[60vh] custom-scrollbar p-6">
                <div class="space-y-4">
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="font-medium">Dark Mode</p>
                            <p class="text-sm text-gray-500">Use dark theme</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="darkModeToggle">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="font-medium">Font Size</p>
                            <p class="text-sm text-gray-500">Adjust text size</p>
                        </div>
                        <select id="fontSizeSelect" class="p-2 border border-gray-300 rounded-lg">
                            <option value="small">Small</option>
                            <option value="medium" selected>Medium</option>
                            <option value="large">Large</option>
                            <option value="x-large">Extra Large</option>
                        </select>
                    </div>
                    
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="font-medium">High Contrast</p>
                            <p class="text-sm text-gray-500">Increase color contrast</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="highContrastToggle">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="font-medium">Screen Reader</p>
                            <p class="text-sm text-gray-500">Enable screen reader support</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="screenReaderToggle" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="font-medium">Reduce Animations</p>
                            <p class="text-sm text-gray-500">Minimize motion effects</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="reduceAnimationsToggle">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="font-medium">Text-to-Speech</p>
                            <p class="text-sm text-gray-500">Read messages aloud</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="textToSpeechToggle">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>
                
                <div class="mt-6">
                    <button id="saveAccessibility" class="w-full py-3 bg-gradient-to-r from-purple-500 to-green-500 text-white rounded-xl font-semibold hover:opacity-90 transition-opacity">
                        Save Accessibility Settings
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Notifications Settings Modal -->
    <div id="notificationsSettingsModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-hidden">
            <div class="kynecta-header p-6">
                <div class="flex items-center justify-between">
                    <h3 class="text-xl font-semibold text-white">Notification Settings</h3>
                    <button id="closeNotificationsSettings" class="text-white/80 hover:text-white transition-colors">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            
            <div class="overflow-y-auto max-h-[60vh] custom-scrollbar p-6">
                <div class="space-y-4">
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="font-medium">Push Notifications</p>
                            <p class="text-sm text-gray-500">Receive push notifications</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="pushNotificationsToggle" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="font-medium">Message Notifications</p>
                            <p class="text-sm text-gray-500">Notify on new messages</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="messageNotificationsToggle" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="font-medium">Group Notifications</p>
                            <p class="text-sm text-gray-500">Notify on group activities</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="groupNotificationsToggle" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="font-medium">Call Notifications</p>
                            <p class="text-sm text-gray-500">Notify on incoming calls</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="callNotificationsToggle" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="font-medium">Sound</p>
                            <p class="text-sm text-gray-500">Play notification sounds</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="soundToggle" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="font-medium">Vibration</p>
                            <p class="text-sm text-gray-500">Vibrate on notifications</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="vibrationToggle" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="font-medium">Do Not Disturb</p>
                            <p class="text-sm text-gray-500">Silence notifications during set hours</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="doNotDisturbToggle">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    
                    <div id="doNotDisturbSchedule" class="hidden space-y-2">
                        <div class="flex justify-between items-center">
                            <div>
                                <p class="font-medium">Start Time</p>
                            </div>
                            <input type="time" id="dndStartTime" class="p-2 border border-gray-300 rounded-lg" value="22:00">
                        </div>
                        <div class="flex justify-between items-center">
                            <div>
                                <p class="font-medium">End Time</p>
                            </div>
                            <input type="time" id="dndEndTime" class="p-2 border border-gray-300 rounded-lg" value="07:00">
                        </div>
                    </div>
                </div>
                
                <div class="mt-6">
                    <button id="saveNotifications" class="w-full py-3 bg-gradient-to-r from-purple-500 to-green-500 text-white rounded-xl font-semibold hover:opacity-90 transition-opacity">
                        Save Notification Settings
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Storage Settings Modal -->
    <div id="storageSettingsModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-hidden">
            <div class="kynecta-header p-6">
                <div class="flex items-center justify-between">
                    <h3 class="text-xl font-semibold text-white">Storage & Data Settings</h3>
                    <button id="closeStorageSettings" class="text-white/80 hover:text-white transition-colors">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            
            <div class="overflow-y-auto max-h-[60vh] custom-scrollbar p-6">
                <div class="space-y-4">
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="font-medium">Auto-download Media</p>
                            <p class="text-sm text-gray-500">Download media automatically</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="autoDownloadToggle" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="font-medium">Wi-Fi Only</p>
                            <p class="text-sm text-gray-500">Download media only on Wi-Fi</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="wifiOnlyToggle" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="font-medium">Media Upload Quality</p>
                            <p class="text-sm text-gray-500">Quality for uploaded media</p>
                        </div>
                        <select id="mediaUploadQuality" class="p-2 border border-gray-300 rounded-lg">
                            <option value="auto">Auto</option>
                            <option value="high">High</option>
                            <option value="medium">Medium</option>
                            <option value="low">Low</option>
                        </select>
                    </div>
                    
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-2">
                            <p class="font-medium">Storage Usage</p>
                            <p id="storageUsage" class="text-sm text-gray-500">Calculating...</p>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2.5">
                            <div id="storageProgress" class="bg-purple-600 h-2.5 rounded-full" style="width: 0%"></div>
                        </div>
                    </div>
                    
                    <div class="space-y-2">
                        <button id="clearCache" class="w-full py-3 bg-gray-100 text-gray-700 rounded-xl font-semibold hover:bg-gray-200 transition-colors">
                            Clear Cache
                        </button>
                        <button id="manageMedia" class="w-full py-3 bg-gray-100 text-gray-700 rounded-xl font-semibold hover:bg-gray-200 transition-colors">
                            Manage Downloaded Media
                        </button>
                    </div>
                </div>
                
                <div class="mt-6">
                    <button id="saveStorage" class="w-full py-3 bg-gradient-to-r from-purple-500 to-green-500 text-white rounded-xl font-semibold hover:opacity-90 transition-opacity">
                        Save Storage Settings
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Language Settings Modal -->
    <div id="languageSettingsModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-hidden">
            <div class="kynecta-header p-6">
                <div class="flex items-center justify-between">
                    <h3 class="text-xl font-semibold text-white">Language Settings</h3>
                    <button id="closeLanguageSettings" class="text-white/80 hover:text-white transition-colors">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            
            <div class="overflow-y-auto max-h-[60vh] custom-scrollbar p-6">
                <div class="space-y-4">
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="font-medium">App Language</p>
                            <p class="text-sm text-gray-500">Choose your preferred language</p>
                        </div>
                        <select id="appLanguageSelect" class="p-2 border border-gray-300 rounded-lg">
                            <option value="en">English</option>
                            <option value="sw">Swahili</option>
                            <option value="fr">French</option>
                            <option value="es">Spanish</option>
                            <option value="de">German</option>
                            <option value="zh">Chinese</option>
                            <option value="ja">Japanese</option>
                            <option value="ru">Russian</option>
                            <option value="ar">Arabic</option>
                        </select>
                    </div>
                    
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="font-medium">Auto-detect Language</p>
                            <p class="text-sm text-gray-500">Use device language settings</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="autoDetectLanguageToggle" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>
                
                <div class="mt-6">
                    <button id="saveLanguage" class="w-full py-3 bg-gradient-to-r from-purple-500 to-green-500 text-white rounded-xl font-semibold hover:opacity-90 transition-opacity">
                        Save Language Settings
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Chat Settings Modal -->
    <div id="chatSettingsModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-hidden">
            <div class="kynecta-header p-6">
                <div class="flex items-center justify-between">
                    <h3 class="text-xl font-semibold text-white">Chat Settings</h3>
                    <button id="closeChatSettings" class="text-white/80 hover:text-white transition-colors">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            
            <div class="overflow-y-auto max-h-[60vh] custom-scrollbar p-6">
                <div class="space-y-4">
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="font-medium">Enter Key Sends</p>
                            <p class="text-sm text-gray-500">Press Enter to send messages</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="enterKeySendsToggle" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="font-medium">Read Receipts</p>
                            <p class="text-sm text-gray-500">Show when messages are read</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="readReceiptsToggle" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="font-medium">Show Last Seen</p>
                            <p class="text-sm text-gray-500">Display when contacts were last online</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="lastSeenToggle" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="font-medium">Media Visibility</p>
                            <p class="text-sm text-gray-500">Show media in gallery</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="mediaVisibilityToggle" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="font-medium">Chat Backup</p>
                            <p class="text-sm text-gray-500">Automatically backup chats</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="chatBackupToggle">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    
                    <div class="space-y-2">
                        <button id="changeWallpaper" class="w-full py-3 bg-gray-100 text-gray-700 rounded-xl font-semibold hover:bg-gray-200 transition-colors">
                            Change Chat Wallpaper
                        </button>
                        <button id="exportChat" class="w-full py-3 bg-gray-100 text-gray-700 rounded-xl font-semibold hover:bg-gray-200 transition-colors">
                            Export Chat History
                        </button>
                        <button id="clearChatHistory" class="w-full py-3 bg-red-100 text-red-700 rounded-xl font-semibold hover:bg-red-200 transition-colors">
                            Clear All Chats
                        </button>
                    </div>
                </div>
                
                <div class="mt-6">
                    <button id="saveChatSettings" class="w-full py-3 bg-gradient-to-r from-purple-500 to-green-500 text-white rounded-xl font-semibold hover:opacity-90 transition-opacity">
                        Save Chat Settings
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Favorites Settings Modal -->
    <div id="favoritesSettingsModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-hidden">
            <div class="kynecta-header p-6">
                <div class="flex items-center justify-between">
                    <h3 class="text-xl font-semibold text-white">Favorites</h3>
                    <button id="closeFavoritesSettings" class="text-white/80 hover:text-white transition-colors">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            
            <div class="overflow-y-auto max-h-[60vh] custom-scrollbar p-6">
                <div id="favoritesListContent" class="space-y-3">
                    <!-- Favorites will be populated from Firebase -->
                    <div class="text-center text-gray-500 py-8">
                        <i class="fas fa-star text-4xl mb-3 text-gray-300 block"></i>
                        <p>No favorites yet</p>
                        <p class="text-sm mt-1">Add contacts or chats to favorites for quick access</p>
                    </div>
                </div>
                
                <div class="mt-6">
                    <button id="addToFavorites" class="w-full py-3 bg-gradient-to-r from-purple-500 to-green-500 text-white rounded-xl font-semibold hover:opacity-90 transition-opacity">
                        Add to Favorites
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Help Center Modal -->
    <div id="helpCenterModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-hidden">
            <div class="kynecta-header p-6">
                <div class="flex items-center justify-between">
                    <h3 class="text-xl font-semibold text-white">Help Center</h3>
                    <button id="closeHelpCenter" class="text-white/80 hover:text-white transition-colors">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            
            <div class="overflow-y-auto max-h-[60vh] custom-scrollbar p-6">
                <div class="space-y-4">
                    <div class="bg-gray-50 p-4 rounded-xl cursor-pointer help-section" data-section="getting-started">
                        <h4 class="font-semibold mb-2">Getting Started</h4>
                        <p class="text-sm text-gray-600">Learn how to use Kynecta's basic features</p>
                    </div>
                    
                    <div class="bg-gray-50 p-4 rounded-xl cursor-pointer help-section" data-section="privacy-security">
                        <h4 class="font-semibold mb-2">Privacy & Security</h4>
                        <p class="text-sm text-gray-600">Understand how we protect your data</p>
                    </div>
                    
                    <div class="bg-gray-50 p-4 rounded-xl cursor-pointer help-section" data-section="troubleshooting">
                        <h4 class="font-semibold mb-2">Troubleshooting</h4>
                        <p class="text-sm text-gray-600">Common issues and solutions</p>
                    </div>
                    
                    <div class="bg-gray-50 p-4 rounded-xl cursor-pointer help-section" data-section="faqs">
                        <h4 class="font-semibold mb-2">FAQs</h4>
                        <p class="text-sm text-gray-600">Frequently asked questions</p>
                    </div>
                </div>
                
                <div class="mt-6 space-y-3">
                    <button id="contactSupport" class="w-full py-3 bg-purple-600 text-white rounded-xl font-semibold hover:bg-purple-700 transition-colors">
                        Contact Support
                    </button>
                    <button id="sendFeedback" class="w-full py-3 bg-gray-100 text-gray-700 rounded-xl font-semibold hover:bg-gray-200 transition-colors">
                        Send Feedback
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- App Info Modal -->
    <div id="appInfoModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-hidden">
            <div class="kynecta-header p-6">
                <div class="flex items-center justify-between">
                    <h3 class="text-xl font-semibold text-white">App Information</h3>
                    <button id="closeAppInfo" class="text-white/80 hover:text-white transition-colors">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            
            <div class="overflow-y-auto max-h-[60vh] custom-scrollbar p-6">
                <div class="space-y-4">
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gradient-to-r from-purple-500 to-green-500 rounded-2xl flex items-center justify-center text-white text-2xl font-bold mx-auto mb-4">
                            K
                        </div>
                        <h3 class="text-xl font-semibold">Kynecta</h3>
                        <p class="text-gray-500">Advanced Mood-Based Chat</p>
                    </div>
                    
                    <div class="space-y-3">
                        <div class="flex justify-between">
                            <span class="font-medium">Version</span>
                            <span class="text-gray-500">1.0.0</span>
                        </div>
                        
                        <div class="flex justify-between">
                            <span class="font-medium">Build</span>
                            <span class="text-gray-500">2025.08</span>
                        </div>
                        
                        <div class="flex justify-between">
                            <span class="font-medium">Developer</span>
                            <span class="text-gray-500">Denis Chacha</span>
                        </div>
                        
                        <div class="flex justify-between">
                            <span class="font-medium">Release Date</span>
                            <span class="text-gray-500">November 2025</span>
                        </div>
                    </div>
                    
                    <div class="pt-4 border-t border-gray-200">
                        <h4 class="font-semibold mb-2">Legal</h4>
                        <div class="space-y-2">
                            <button class="w-full text-left text-blue-600 hover:text-blue-800 transition-colors" id="termsOfServiceBtn">
                                Terms of Service
                            </button>
                            <button class="w-full text-left text-blue-600 hover:text-blue-800 transition-colors" id="privacyPolicyBtn">
                                Privacy Policy
                            </button>
                            <button class="w-full text-left text-blue-600 hover:text-blue-800 transition-colors" id="openSourceBtn">
                                Open Source Licenses
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Invite Friends Modal -->
    <div id="inviteFriendsModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-hidden">
            <div class="kynecta-header p-6">
                <div class="flex items-center justify-between">
                    <h3 class="text-xl font-semibold text-white">Invite Friends</h3>
                    <button id="closeInviteFriends" class="text-white/80 hover:text-white transition-colors">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            
            <div class="overflow-y-auto max-h-[60vh] custom-scrollbar p-6">
                <div class="text-center mb-6">
                    <div class="w-24 h-24 bg-gradient-to-r from-purple-500 to-green-500 rounded-2xl flex items-center justify-center text-white text-3xl font-bold mx-auto mb-4">
                        <i class="fas fa-share-alt"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-2">Share Kynecta</h3>
                    <p class="text-gray-500">Invite your friends to join Kynecta</p>
                </div>
                
                <div class="space-y-3">
                    <button id="shareLink" class="w-full py-3 bg-purple-600 text-white rounded-xl font-semibold hover:bg-purple-700 transition-colors flex items-center justify-center">
                        <i class="fas fa-link mr-2"></i> Copy Invite Link
                    </button>
                    
                    <button id="shareQR" class="w-full py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-colors flex items-center justify-center">
                        <i class="fas fa-qrcode mr-2"></i> Share QR Code
                    </button>
                    
                    <button id="shareWhatsApp" class="w-full py-3 bg-green-600 text-white rounded-xl font-semibold hover:bg-green-700 transition-colors flex items-center justify-center">
                        <i class="fab fa-whatsapp mr-2"></i> Share via WhatsApp
                    </button>
                    
                    <button id="shareSMS" class="w-full py-3 bg-gray-600 text-white rounded-xl font-semibold hover:bg-gray-700 transition-colors flex items-center justify-center">
                        <i class="fas fa-sms mr-2"></i> Share via SMS
                    </button>
                </div>
                
                <div class="mt-6 p-4 bg-gray-50 rounded-xl">
                    <h4 class="font-semibold mb-2">Your Referral Code</h4>
                    <div class="flex items-center justify-between">
                        <code class="bg-white px-3 py-2 rounded-lg border border-gray-200 font-mono">KYNECTA2025</code>
                        <button id="copyReferralCode" class="text-purple-600 hover:text-purple-800 transition-colors">
                            <i class="fas fa-copy"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Reaction Picker (Dynamic) -->
    <div id="reactionPicker" class="reaction-picker hidden">
        <div class="reaction-option" data-reaction="ðŸ‘">ðŸ‘</div>
        <div class="reaction-option" data-reaction="â¤ï¸">â¤ï¸</div>
        <div class="reaction-option" data-reaction="ðŸ˜‚">ðŸ˜‚</div>
        <div class="reaction-option" data-reaction="ðŸ˜®">ðŸ˜®</div>
        <div class="reaction-option" data-reaction="ðŸ˜¢">ðŸ˜¢</div>
        <div class="reaction-option" data-reaction="ðŸŽ‰">ðŸŽ‰</div>
    </div>

    <!-- Group Creation Modal -->
    <div id="createGroupModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-hidden">
            <div class="kynecta-header p-6">
                <div class="flex items-center justify-between">
                    <h3 class="text-xl font-semibold text-white">Create Group</h3>
                    <button id="closeCreateGroup" class="text-white/80 hover:text-white transition-colors">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            
            <div class="overflow-y-auto max-h-[60vh] custom-scrollbar p-6">
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Group Name</label>
                    <input type="text" id="groupName" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-purple-500 transition-colors" placeholder="Enter group name">
                </div>
                
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Group Description</label>
                    <textarea id="groupDescription" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-purple-500 transition-colors" placeholder="Enter group description" rows="3"></textarea>
                </div>
                
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Add Participants</label>
                    <div id="groupParticipants" class="border-2 border-gray-200 rounded-xl p-3 max-h-40 overflow-y-auto">
                        <div class="text-gray-500 text-center py-4">Select friends to add to group</div>
                    </div>
                </div>
                
                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Group Privacy</label>
                    <select id="groupPrivacy" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-purple-500 transition-colors">
                        <option value="public">Public - Anyone can join</option>
                        <option value="private">Private - Invite only</option>
                    </select>
                </div>
                
                <div class="flex space-x-3">
                    <button id="createGroup" class="flex-1 py-3 bg-gradient-to-r from-purple-500 to-green-500 text-white rounded-xl font-semibold hover:opacity-90 transition-opacity">
                        Create Group
                    </button>
                    <button id="cancelCreateGroup" class="flex-1 py-3 bg-gray-500 text-white rounded-xl font-semibold hover:opacity-90 transition-opacity">
                        Cancel
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Group Join Modal -->
    <div id="joinGroupModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-hidden">
            <div class="kynecta-header p-6">
                <div class="flex items-center justify-between">
                    <h3 class="text-xl font-semibold text-white">Join Group</h3>
                    <button id="closeJoinGroup" class="text-white/80 hover:text-white transition-colors">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            
            <div class="overflow-y-auto max-h-[60vh] custom-scrollbar p-6">
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Group Code or Link</label>
                    <input type="text" id="groupCode" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-purple-500 transition-colors" placeholder="Enter group code or invite link">
                </div>
                
                <div id="groupPreview" class="mb-4 hidden">
                    <div class="bg-gray-50 p-4 rounded-xl">
                        <div class="flex items-center space-x-3">
                            <div class="w-12 h-12 rounded-full bg-gradient-to-r from-purple-500 to-green-500 flex items-center justify-center text-white">
                                <i class="fas fa-users"></i>
                            </div>
                            <div>
                                <h4 class="font-semibold" id="previewGroupName">Group Name</h4>
                                <p class="text-sm text-gray-500" id="previewGroupMembers">0 members</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="flex space-x-3">
                    <button id="joinGroup" class="flex-1 py-3 bg-gradient-to-r from-purple-500 to-green-500 text-white rounded-xl font-semibold hover:opacity-90 transition-opacity">
                        Join Group
                    </button>
                    <button id="cancelJoinGroup" class="flex-1 py-3 bg-gray-500 text-white rounded-xl font-semibold hover:opacity-90 transition-opacity">
                        Cancel
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- All Friends Display Modal -->
    <div id="allFriendsModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-hidden">
            <div class="kynecta-header p-6">
                <div class="flex items-center justify-between">
                    <h3 class="text-xl font-semibold text-white">All Friends</h3>
                    <button id="closeAllFriends" class="text-white/80 hover:text-white transition-colors">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            
            <div class="overflow-y-auto max-h-[60vh] custom-scrollbar p-6">
                <div class="mb-4">
                    <div class="relative">
                        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                            <i class="fas fa-search text-gray-400"></i>
                        </div>
                        <input type="text" id="allFriendsSearch" class="w-full bg-gray-100 rounded-xl py-3 pl-10 pr-4 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:bg-white transition-all" placeholder="Search all friends...">
                    </div>
                </div>
                
                <div id="allFriendsList" class="space-y-3">
                    <!-- All friends will be populated from Firebase -->
                </div>
                
                <div id="noAllFriendsMessage" class="p-8 text-center text-gray-500">
                    <i class="fas fa-user-friends text-4xl mb-3 text-gray-300 block"></i>
                    <p>No friends yet</p>
                    <p class="text-sm mt-1">Add friends to see them here</p>
                </div>
            </div>
        </div>
    </div>
<!-- Status Viewer Modal -->
<div id="statusViewerModal" class="hidden fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4">
    <div class="bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-hidden">
        <div class="kynecta-header p-6">
            <div class="flex items-center justify-between">
                <h3 class="text-xl font-semibold text-white">Status Updates</h3>
                <button id="closeStatusViewer" class="text-white/80 hover:text-white transition-colors">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
        </div>
        
        <div class="overflow-y-auto max-h-[60vh] custom-scrollbar p-6">
            <div id="statusViewerContent" class="space-y-4">
                <!-- Status updates will be populated from Firebase -->
                <div class="text-center text-gray-500 py-8">
                    <i class="fas fa-eye-slash text-4xl mb-3 text-gray-300 block"></i>
                    <p>No status updates to view</p>
                    <p class="text-sm mt-1">When friends post status updates, they'll appear here</p>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="statusList">
    <!-- Example status -->
    <div class="status-item" data-status-id="STATUS_ID_HERE">
        <img src="IMAGE_URL" class="w-12 h-12 rounded-full" />
        <div class="ml-3">
            <p class="font-semibold">User Name</p>
            <p class="text-sm text-gray-500">Just now</p>
        </div>
    </div>
</div>
<div id="featuresModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
    <div class="bg-white w-11/12 max-w-md rounded-2xl p-6 shadow-lg">
        <h2 class="text-xl font-bold mb-4">Available Features</h2>

        <ul class="space-y-3 text-gray-700">
            <li>â€¢ Voice & Video Calling</li>
            <li>â€¢ Status Updates (Photo, Text, Audio)</li>
            <li>â€¢ Mood System</li>
            <li>â€¢ Quick Actions</li>
            <li>â€¢ Cloud Chat Backup</li>
            <li>â€¢ Real-time Typing Indicator</li>
        </ul>

        <button class="w-full mt-6 bg-purple-600 text-white p-3 rounded-xl" id="closeFeatures">
            Close
        </button>
    </div>
</div>
<div id="moodModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
    <div class="bg-white w-11/12 max-w-md rounded-2xl p-6 shadow-lg">
        <h2 class="text-xl font-bold mb-4">Select Your Mood</h2>

        <div class="grid grid-cols-3 gap-4 text-center">
            <div class="p-4 rounded-xl bg-yellow-100 cursor-pointer mood-option" data-mood="happy">ðŸ˜Š Happy</div>
            <div class="p-4 rounded-xl bg-blue-100 cursor-pointer mood-option" data-mood="calm">ðŸ˜Œ Calm</div>
            <div class="p-4 rounded-xl bg-red-100 cursor-pointer mood-option" data-mood="energetic">ðŸ”¥ Energetic</div>
            <div class="p-4 rounded-xl bg-green-100 cursor-pointer mood-option" data-mood="focused">ðŸŽ¯ Focused</div>
            <div class="p-4 rounded-xl bg-purple-100 cursor-pointer mood-option" data-mood="creative">ðŸŽ¨ Creative</div>
        </div>

        <button class="w-full mt-6 bg-purple-600 text-white p-3 rounded-xl" id="closeMood">
            Close
        </button>
    </div>
</div>
<div id="quickActionsModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
    <div class="bg-white w-11/12 max-w-md rounded-2xl p-6 shadow-lg">
        <h2 class="text-xl font-bold mb-4">Quick Actions</h2>

        <div class="grid grid-cols-2 gap-4">
            <button class="p-4 bg-purple-500 text-white rounded-xl">ðŸ“¸ Post Status</button>
            <button class="p-4 bg-blue-500 text-white rounded-xl">ðŸ“ Share File</button>
            <button class="p-4 bg-green-500 text-white rounded-xl">ðŸ—£ Voice Note</button>
            <button class="p-4 bg-red-500 text-white rounded-xl">ðŸ“ž Quick Call</button>
        </div>

        <button class="w-full mt-6 bg-gray-700 text-white p-3 rounded-xl" id="closeQuickActions">
            Close
        </button>
    </div>
</div>

<!-- Settings Modal -->
<div id="settingsModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
    <div class="bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-hidden">
        <div class="kynecta-header p-6">
            <div class="flex items-center justify-between">
                <h3 class="text-xl font-semibold text-white">Settings</h3>
                <button id="closeSettings" class="text-white/80 hover:text-white transition-colors">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
        </div>
        <!-- FEATURES -->
<div id="featuresBtn" class="settings-item">
    <div class="settings-item-content">
        <div class="settings-item-title">Features</div>
        <div class="settings-item-description">View available tools and upcoming updates</div>
    </div>
    <span class="settings-item-action">âžœ</span>
</div>

<!-- CURRENT MOOD -->
<div id="currentMoodBtn" class="settings-item">
    <div class="settings-item-content">
        <div class="settings-item-title">Current Mood</div>
        <div class="settings-item-description">Update your profile mood</div>
    </div>
    <span class="settings-item-action">ðŸ˜Š</span>
</div>

<!-- QUICK ACTIONS -->
<div id="quickActionsBtn" class="settings-item">
    <div class="settings-item-content">
        <div class="settings-item-title">Quick Actions</div>
        <div class="settings-item-description">Shortcuts for fast tasks</div>
    </div>
    <span class="settings-item-action">âš¡</span>
</div>

        <div class="overflow-y-auto max-h-[60vh] custom-scrollbar">
            <!-- Profile Section -->
            <div class="p-6 border-b border-gray-200">
                <div class="flex items-center space-x-4 mb-4">
                    <div class="profile-upload">
                        <div class="w-16 h-16 rounded-full bg-gradient-to-r from-purple-500 to-green-500 flex items-center justify-center text-white text-xl font-bold">
                            <img id="settingsProfilePic" class="w-full h-full rounded-full object-cover" src="" alt="Profile">
                        </div>
                        <input type="file" id="profilePicUpload" accept="image/*">
                        <div class="profile-photo-edit">
                            <i class="fas fa-camera"></i>
                        </div>
                    </div>
                    <div>
                        <h4 class="font-semibold text-lg" id="settingsUserName">Loading...</h4>
                        <p class="text-gray-500 text-sm" id="settingsUserBio">Loading...</p>
                    </div>
                </div>
                
                <div class="settings-item" id="profileSettingsBtn">
                    <div class="settings-item-content">
                        <div class="settings-item-title">Profile</div>
                        <div class="settings-item-description">Edit your profile information</div>
                    </div>
                    <div class="settings-item-action">
                        <i class="fas fa-chevron-right text-gray-400"></i>
                    </div>
                </div>
            </div>

            <!-- Account Section -->
            <div class="settings-section">
                <h4 class="font-semibold mb-4 text-lg text-gray-800">Account</h4>
                <div class="space-y-1">
                    <div class="settings-item" id="securitySettingsBtn">
                        <div class="settings-item-content">
                            <div class="settings-item-title">Security notifications</div>
                            <div class="settings-item-description">Passkeys, two-step verification</div>
                        </div>
                        <div class="settings-item-action">
                            <i class="fas fa-chevron-right text-gray-400"></i>
                        </div>
                    </div>
                    
                    <div class="settings-item" id="privacySettingsBtn">
                        <div class="settings-item-content">
                            <div class="settings-item-title">Privacy</div>
                            <div class="settings-item-description">Block contacts, disappearing messages</div>
                        </div>
                        <div class="settings-item-action">
                            <i class="fas fa-chevron-right text-gray-400"></i>
                        </div>
                    </div>
                    
                    <div class="settings-item" id="avatarSettingsBtn">
                        <div class="settings-item-content">
                            <div class="settings-item-title">Avatar</div>
                            <div class="settings-item-description">Create, edit, profile photo</div>
                        </div>
                        <div class="settings-item-action">
                            <i class="fas fa-chevron-right text-gray-400"></i>
                        </div>
                    </div>
                    
                    <div class="settings-item" id="favoritesSettingsBtn">
                        <div class="settings-item-content">
                            <div class="settings-item-title">Favorites</div>
                            <div class="settings-item-description">Add, reorder, remove</div>
                        </div>
                        <div class="settings-item-action">
                            <i class="fas fa-chevron-right text-gray-400"></i>
                        </div>
                    </div>
                    
                    <div class="settings-item" id="accessibilityBtn">
                        <div class="settings-item-content">
                            <div class="settings-item-title">Accessibility</div>
                            <div class="settings-item-description">Customize for your needs</div>
                        </div>
                        <div class="settings-item-action">
                            <i class="fas fa-chevron-right text-gray-400"></i>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Notifications Section -->
            <div class="settings-section">
                <h4 class="font-semibold mb-4 text-lg text-gray-800">Notifications</h4>
                <div class="space-y-1">
                    <div class="settings-item" id="notificationsSettingsBtn">
                        <div class="settings-item-content">
                            <div class="settings-item-title">Notification Settings</div>
                            <div class="settings-item-description">Customize message, group & call notifications</div>
                        </div>
                        <div class="settings-item-action">
                            <i class="fas fa-chevron-right text-gray-400"></i>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Storage & Data Section -->
            <div class="settings-section">
                <h4 class="font-semibold mb-4 text-lg text-gray-800">Storage & Data</h4>
                <div class="space-y-1">
                    <div class="settings-item" id="storageSettingsBtn">
                        <div class="settings-item-content">
                            <div class="settings-item-title">Storage and data</div>
                            <div class="settings-item-description">Network usage, auto-download</div>
                        </div>
                        <div class="settings-item-action">
                            <i class="fas fa-chevron-right text-gray-400"></i>
                        </div>
                    </div>
                </div>
            </div>

            <!-- App Language Section -->
            <div class="settings-section">
                <h4 class="font-semibold mb-4 text-lg text-gray-800">App Language</h4>
                <div class="space-y-1">
                    <div class="settings-item" id="languageSettingsBtn">
                        <div class="settings-item-content">
                            <div class="settings-item-title">Language</div>
                            <div class="settings-item-description">Choose your preferred language</div>
                        </div>
                        <div class="settings-item-action">
                            <i class="fas fa-chevron-right text-gray-400"></i>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Chats Section -->
            <div class="settings-section">
                <h4 class="font-semibold mb-4 text-lg text-gray-800">Chats</h4>
                <div class="space-y-1">
                    <div class="settings-item" id="chatsSettingsBtn">
                        <div class="settings-item-content">
                            <div class="settings-item-title">Chat settings</div>
                            <div class="settings-item-description">Theme, wallpapers, chat history</div>
                        </div>
                        <div class="settings-item-action">
                            <i class="fas fa-chevron-right text-gray-400"></i>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Help Section -->
            <div class="settings-section">
                <h4 class="font-semibold mb-4 text-lg text-gray-800">Help & Support</h4>
                <div class="space-y-1">
                    <div class="settings-item" id="helpCenterBtn">
                        <div class="settings-item-content">
                            <div class="settings-item-title">Help Center</div>
                            <div class="settings-item-description">Get help and tutorials</div>
                        </div>
                        <div class="settings-item-action">
                            <i class="fas fa-chevron-right text-gray-400"></i>
                        </div>
                    </div>
                    
                    <div class="settings-item" id="contactUsBtn">
                        <div class="settings-item-content">
                            <div class="settings-item-title">Contact Us</div>
                            <div class="settings-item-description">Reach out for support</div>
                        </div>
                        <div class="settings-item-action">
                            <i class="fas fa-chevron-right text-gray-400"></i>
                        </div>
                    </div>
                    
                    <div class="settings-item" id="appInfoBtn">
                        <div class="settings-item-content">
                            <div class="settings-item-title">App Info</div>
                            <div class="settings-item-description">Version and about</div>
                        </div>
                        <div class="settings-item-action">
                            <i class="fas fa-chevron-right text-gray-400"></i>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Invite Section -->
            <div class="settings-section">
                <h4 class="font-semibold mb-4 text-lg text-gray-800">Invite</h4>
                <div class="space-y-1">
                    <div class="settings-item" id="inviteContactBtn">
                        <div class="settings-item-content">
                            <div class="settings-item-title">Invite a Contact</div>
                            <div class="settings-item-description">Share Kynecta with friends</div>
                        </div>
                        <div class="settings-item-action">
                            <i class="fas fa-chevron-right text-gray-400"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Logout -->
        <div class="p-6 border-t border-gray-200">
            <button id="logoutBtn" class="w-full py-4 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl font-semibold hover:opacity-90 transition-opacity">
                Log Out
            </button>
        </div>
    </div>
</div>

<!-- Incoming Call UI -->
<div id="incomingCallUI" class="hidden fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4">
    <div class="bg-white rounded-2xl w-full max-w-md overflow-hidden">
        <div class="kynecta-header p-6">
            <div class="flex items-center justify-center">
                <div class="text-center">
                    <div class="w-20 h-20 rounded-full bg-gradient-to-r from-purple-500 to-green-500 flex items-center justify-center text-white text-2xl font-bold mx-auto mb-4">
                        <img id="incomingCallAvatar" class="w-full h-full rounded-full object-cover" src="" alt="Caller">
                    </div>
                    <h3 id="incomingCallName" class="text-xl font-semibold text-white">Incoming Call</h3>
                    <p id="incomingCallType" class="text-white/80">Voice Call</p>
                </div>
            </div>
        </div>
        
        <div class="p-6">
            <div class="flex justify-center space-x-6">
                <button id="declineCall" class="w-16 h-16 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors">
                    <i class="fas fa-phone-slash text-xl"></i>
                </button>
                <button id="acceptCall" class="w-16 h-16 bg-green-500 text-white rounded-full flex items-center justify-center hover:bg-green-600 transition-colors">
                    <i class="fas fa-phone text-xl"></i>
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Video Call UI -->
<div id="videoCallUI" class="hidden fixed inset-0 bg-black z-50">
    <div class="flex flex-col h-full">
        <!-- Remote Video -->
        <div class="flex-1 relative">
            <video id="remoteVideo" class="w-full h-full object-cover" autoplay></video>
            
            <!-- Local Video (Picture-in-Picture) -->
            <div class="absolute bottom-4 right-4 w-32 h-48 bg-gray-900 rounded-lg overflow-hidden">
                <video id="localVideo" class="w-full h-full object-cover" autoplay muted></video>
            </div>
            
            <!-- Call Info -->
            <div class="absolute top-4 left-4 bg-black/50 text-white p-3 rounded-lg">
                <h3 id="videoCallName" class="font-semibold">Calling...</h3>
                <p id="videoCallDuration" class="text-sm">00:00</p>
            </div>
        </div>
        
        <!-- Call Controls -->
        <div class="bg-black/80 p-6">
            <div class="flex justify-center space-x-6">
                <button id="videoCallMute" class="w-14 h-14 bg-gray-700 text-white rounded-full flex items-center justify-center hover:bg-gray-600 transition-colors">
                    <i class="fas fa-microphone text-xl"></i>
                </button>
                <button id="videoCallVideoToggle" class="w-14 h-14 bg-gray-700 text-white rounded-full flex items-center justify-center hover:bg-gray-600 transition-colors">
                    <i class="fas fa-video text-xl"></i>
                </button>
                <button id="videoCallEnd" class="w-14 h-14 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors">
                    <i class="fas fa-phone-slash text-xl"></i>
                </button>
                <button id="videoCallSpeaker" class="w-14 h-14 bg-gray-700 text-white rounded-full flex items-center justify-center hover:bg-gray-600 transition-colors">
                    <i class="fas fa-volume-up text-xl"></i>
                </button>
                <button id="videoCallMore" class="w-14 h-14 bg-gray-700 text-white rounded-full flex items-center justify-center hover:bg-gray-600 transition-colors">
                    <i class="fas fa-ellipsis-h text-xl"></i>
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Video/Voice Call UI -->
<div id="videoCallContainer" class="hidden fixed inset-0 bg-black bg-opacity-80 z-50 flex flex-col items-center justify-center p-4">
    <video id="localVideo" autoplay muted playsinline class="w-full max-w-md rounded-lg mb-4"></video>

    <div class="flex space-x-4">
        <button id="muteBtn" class="bg-gray-600 text-white p-3 rounded-full">
            <i class="fas fa-microphone"></i>
        </button>

        <button id="videoToggleBtn" class="bg-gray-600 text-white p-3 rounded-full">
            <i class="fas fa-video"></i>
        </button>

        <button onclick="endCall()" class="bg-red-600 text-white p-3 rounded-full">
            <i class="fas fa-phone-slash"></i>
        </button>
    </div>
</div>

<script src="chat.js"></script>
</body>
</html>